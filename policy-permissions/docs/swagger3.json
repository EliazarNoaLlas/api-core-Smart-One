{"openapi":"3.0.1","info":{"contact":{}},"servers":[{"url":"/"}],"paths":{"/api/v1/core/policies/{policyId}/permissions":{"get":{"tags":["PolicyPermissions"],"summary":"get policy permissions","description":"get policy permissions","parameters":[{"name":"policyId","in":"path","description":"policy id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.policyPermissionsResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]},"post":{"tags":["PolicyPermissions"],"summary":"Create a Policy permission","description":"Create a Policy permission","parameters":[{"name":"policyId","in":"path","description":"policy id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Create  body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domain.CreatePolicyPermissionBody"}}},"required":true},"responses":{"201":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.IdResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"createPolicyPermissionBody"}},"/api/v1/core/policies/{policyId}/permissions/batch":{"post":{"tags":["PolicyPermissions"],"summary":"Create multiple policy permissions","description":"Create multiple policy permissions","parameters":[{"name":"policyId","in":"path","description":"policy id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Create  body","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/domain.CreatePolicyPermissionBody"}}}},"required":true},"responses":{"201":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.IdsResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"createPolicyPermissionsMultipleBody"},"delete":{"tags":["PolicyPermissions"],"summary":"Delete multiple policy permissions","description":"Delete multiple policy permissions","parameters":[{"name":"policyId","in":"path","description":"policy id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Delete body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domain.DeleteMultiplePolicyPermissionBody"}}},"required":true},"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.deletePolicyPermissionsResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"deletePolicyPermissionsMultipleBody"}},"/api/v1/core/policies/{policyId}/permissions/{policyPermissionId}":{"put":{"tags":["PolicyPermissions"],"summary":"Update a Policy permission","description":"Update a Policy permission","parameters":[{"name":"policyId","in":"path","description":"policy id","required":true,"schema":{"type":"string"}},{"name":"policyPermissionId","in":"path","description":"policy permission id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Update policy permission","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domain.CreatePolicyPermissionBody"}}},"required":true},"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.StatusResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"policyPermissionBody"},"delete":{"tags":["PolicyPermissions"],"summary":"Delete a Policy permission","description":"Delete a Policy permission","parameters":[{"name":"policyId","in":"path","description":"policy id","required":true,"schema":{"type":"string"}},{"name":"policyPermissionId","in":"path","description":"policy permission id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.deletePolicyPermissionsResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}}},"components":{"schemas":{"domain.CreatePolicyPermissionBody":{"required":["enable","permission_id"],"type":"object","properties":{"enable":{"type":"boolean","description":"Description: enable of the created policy permission","example":true},"permission_id":{"type":"string","description":"Description: the permission_id of the created policy permission","example":"739bbbc9-7e93-11ee-89fd-042hs5278420"}}},"domain.DeleteMultiplePolicyPermissionBody":{"required":["policy_permission_ids"],"type":"object","properties":{"policy_permission_ids":{"type":"array","description":"Description: the permission_id of the created policy permission","example":["739bbbc9-7e93-11ee-89fd-042hs5278420"],"items":{"type":"string"}}}},"domain.PaginationResults":{"required":["current_page","last_page","size_page","total"],"type":"object","properties":{"current_page":{"type":"integer"},"from":{"type":"integer"},"last_page":{"type":"integer"},"size_page":{"type":"integer"},"to":{"type":"integer"},"total":{"type":"integer"}}},"domain.Permission":{"required":["code","description","id","name"],"type":"object","properties":{"code":{"type":"string","description":"Description: tho code of the permission","example":"REQUIREMENTS_READ"},"created_at":{"type":"string","description":"Description: the date of created of the permission","example":"2023-12-07 17:13:57"},"description":{"type":"string","description":"Description: the description of the permission","example":"Permiso para listar requerimientos"},"id":{"type":"string","description":"Description: the id of the permission of the permission","example":"84305ba9-83d2-11ee-89fd-0242ac110016"},"name":{"type":"string","description":"Description: the name of the permission","example":"Aprobar limpiezas"}}},"domain.PolicyPermission":{"required":["enable","id","permission"],"type":"object","properties":{"created_at":{"type":"string","description":"Description: date of create of the permission policy","example":"2023-11-30 15:30:49"},"enable":{"type":"integer","description":"Description: the status of the permission policy","example":1},"id":{"type":"string","description":"Description: the id of the permission policy","example":"22597e1d-6463-4bf9-ba51-0f8a3967321f"},"permission":{"$ref":"#/components/schemas/domain.Permission"}}},"errorDomain.LayerErr":{"type":"string","enum":["domain","infrastructure","interface","use_case"],"x-enum-varnames":["Domain","Infra","Interface","UseCase"]},"errorDomain.LevelErr":{"type":"string","enum":["info","warning","error","fatal"],"x-enum-varnames":["LevelInfo","LevelWarning","LevelError","LevelFatal"]},"errorDomain.SmartError":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"},"error":{"type":"object"},"function":{"type":"string"},"httpStatus":{"type":"integer"},"layer":{"$ref":"#/components/schemas/errorDomain.LayerErr"},"level":{"$ref":"#/components/schemas/errorDomain.LevelErr"},"messages":{"type":"array","items":{"type":"string"}},"raw":{"type":"string"}}},"httpResponse.IdResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"string","example":"201"},"status":{"type":"integer"}}},"httpResponse.IdsResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"array","example":["201"],"items":{"type":"string"}},"status":{"type":"integer"}}},"httpResponse.StatusResult":{"required":["status"],"type":"object","properties":{"status":{"type":"integer","example":200}}},"rest.deletePolicyPermissionsResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"boolean"},"status":{"type":"integer"}}},"rest.policyPermissionsResult":{"required":["data","pagination","status"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/domain.PolicyPermission"}},"pagination":{"$ref":"#/components/schemas/domain.PaginationResults"},"status":{"type":"integer"}}}},"securitySchemes":{"BearerAuth":{"type":"apiKey","name":"Authorization","in":"header"}}}}