{"openapi":"3.0.1","info":{"contact":{}},"servers":[{"url":"/"}],"paths":{"/api/v1/auth/login":{"post":{"tags":["Users"],"summary":"Login","description":"Login a user","requestBody":{"description":"Login Body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domain.LoginUserBody"}}},"required":true},"responses":{"201":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.LoginUserResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"x-codegen-request-body-name":"loginBody"}},"/api/v1/core/users":{"post":{"tags":["Users"],"summary":"Create a user","description":"Create a user","requestBody":{"description":"Create user body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domain.CreateUserBody"}}},"required":true},"responses":{"201":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.IdResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"createUserBody"}},"/api/v1/core/users/":{"get":{"tags":["Users"],"summary":"get users","description":"get users","parameters":[{"name":"type_id","in":"query","description":"the user type id","schema":{"type":"string"}},{"name":"username","in":"query","description":"the username of the user","schema":{"type":"string"}},{"name":"role_id","in":"query","description":"the role id of the user","schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.multipleUsersResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}},"/api/v1/core/users/me":{"get":{"tags":["Users"],"summary":"Get user me using their token","description":"Get user me using their token","parameters":[{"name":"userId","in":"path","description":"user id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.GetMeByUser"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}},"/api/v1/core/users/me/modules/{codeModule}/permissions":{"get":{"tags":["Users"],"summary":"is a method to list permissions of a user in a module","description":"is a method to list permissions of a user in a module","parameters":[{"name":"codeModule","in":"path","description":"code module","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.PermissionsResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}},"/api/v1/core/users/me/permissions/{codePermission}":{"get":{"tags":["Users"],"summary":"is a method to verify permissions of a user","description":"is a method to verify permissions of a user","parameters":[{"name":"store_id","in":"query","description":"store id","schema":{"type":"string"}},{"name":"codePermission","in":"path","description":"code permission","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.BoolResponse"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}},"/api/v1/core/users/menu":{"get":{"tags":["Users"],"summary":"Get menu by user using their token","description":"Get menu by user using their token","responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.menuByUserResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}},"/api/v1/core/users/{userId}":{"get":{"tags":["Users"],"summary":"get user","description":"get user by id","parameters":[{"name":"userId","in":"path","description":"user id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.userResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]},"put":{"tags":["Users"],"summary":"Update a user","description":"Update a user","parameters":[{"name":"userId","in":"path","description":"user id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Update user body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domain.UpdateUserBody"}}},"required":true},"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.StatusResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"updateUserBody"},"delete":{"tags":["Users"],"summary":"Delete a user","description":"Delete a user","parameters":[{"name":"userId","in":"path","description":"user id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.deleteUsersResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}},"/api/v1/core/users/{userId}/menu":{"get":{"tags":["Users"],"summary":"get menu","description":"get menu by user","parameters":[{"name":"userId","in":"path","description":"user id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.menuByUserResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}},"/api/v1/core/users/{userId}/password":{"put":{"tags":["Users"],"summary":"Reset password","description":"Reset password","parameters":[{"name":"userId","in":"path","description":"user id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.ResetPasswordUserResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}}},"components":{"schemas":{"domain.CreateUserBody":{"required":["password","type_id","username"],"type":"object","properties":{"password":{"type":"string","description":"Description: the password of the user","example":"pepitoPass"},"person":{"$ref":"#/components/schemas/domain.Person"},"person_id":{"type":"string","description":"Description: the person id","example":"739bbbc9-7e93-11ee-89fd-0442ac210932"},"type_id":{"type":"string","description":"Description: the type of the user","example":"739bbbc9-7e93-11ee-89fd-0442ac210931"},"username":{"type":"string","description":"Description: the username of the user","example":"pepito.quispe@smartc.pe"}}},"domain.LoginUserBody":{"required":["password","username"],"type":"object","properties":{"password":{"type":"string","description":"Description: the password of the user","example":"pepitoPass"},"username":{"type":"string","description":"Description: the username of the user","example":"pepito.quispe@smartc.pe"}}},"domain.MenuModule":{"required":["code","description","icon","id","name","position","views"],"type":"object","properties":{"code":{"type":"string","description":"Description: The code of the menu user","example":"logistic"},"created_at":{"type":"string","description":"Description: The date of created the menu user","example":"2023-11-10 08:10:00"},"description":{"type":"string","description":"Description: The description of the menu user","example":"Modulo de log√≠stica"},"icon":{"type":"string","description":"Description: The icon of the menu user","example":"fa fa-chart"},"id":{"type":"string","description":"Description: The id of the menu user","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"modules":{"type":"array","items":{"$ref":"#/components/schemas/domain.MenuModule"}},"name":{"type":"string","description":"Description: The name of the menu user","example":"Logistic"},"position":{"type":"integer","description":"Description: The position of the menu user","example":1},"views":{"type":"array","items":{"$ref":"#/components/schemas/domain.ViewMenuUser"}}}},"domain.Merchant":{"required":["description","id","image_path","name"],"type":"object","properties":{"description":{"type":"string","description":"Description: the description of the merchant","example":"Almacen Central"},"id":{"type":"string","description":"Description: the id of the merchant","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"image_path":{"type":"string","description":"Description: the image path of the merchant","example":"/images/almacen-central.jpg"},"name":{"type":"string","description":"Description: the name of the merchant","example":"Almacen Central"}}},"domain.MerchantByUser":{"required":["description","id","image_path","name","stores"],"type":"object","properties":{"description":{"type":"string","description":"Description: the description of the merchant","example":"Almacen Central"},"id":{"type":"string","description":"Description: the id of the merchant","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"image_path":{"type":"string","description":"Description: the image path of the merchant","example":"/images/almacen-central.jpg"},"name":{"type":"string","description":"Description: the name of the merchant","example":"Almacen Central"},"stores":{"type":"array","items":{"$ref":"#/components/schemas/domain.Store"}}}},"domain.PaginationResults":{"required":["current_page","last_page","size_page","total"],"type":"object","properties":{"current_page":{"type":"integer"},"from":{"type":"integer"},"last_page":{"type":"integer"},"size_page":{"type":"integer"},"to":{"type":"integer"},"total":{"type":"integer"}}},"domain.Permissions":{"required":["code","id"],"type":"object","properties":{"code":{"type":"string","description":"Description: The code of the module","example":"logistics.requirements"},"id":{"type":"string","description":"Description: user id","example":"0c4001f3-2dd8-4d9f-820d-db7d7d8c85c0"}}},"domain.Person":{"required":["document","enable","names","phone","surname","type_document_id"],"type":"object","properties":{"document":{"type":"string","description":"Description: the document number of the people","example":"77895428"},"email":{"type":"string","description":"Description: the email of the people","example":"lucyhancco@gmail.com"},"enable":{"type":"boolean","description":"Description: the status of the people","example":true},"gender":{"type":"string","description":"Description: the gender of the people","example":"MASCULINO"},"last_name":{"type":"string","description":"Description: the last name of the people","example":"HUILLCA"},"names":{"type":"string","description":"Description: the name of the people","example":"LUCY ANDREA"},"phone":{"type":"string","description":"Description: the phone of the people","example":"918547496"},"surname":{"type":"string","description":"Description: the surname of the people","example":"HANCCO"},"type_document_id":{"type":"string","description":"Description: the type of the document","example":"00a58522-93b4-11ee-a040-0242ac11000e"}}},"domain.PersonByUser":{"type":"object","properties":{"created_at":{"type":"string","description":"Description: the date of created of the people","example":"2023-11-10 08:10:00"},"document":{"type":"string","description":"Description: the document number of the people","example":"77895428"},"email":{"type":"string","description":"Description: the email of the people","example":"lucyhancco@gmail.com"},"enable":{"type":"boolean","description":"Description: the status of the people","example":true},"gender":{"type":"string","description":"Description: the gender of the people","example":"MASCULINO"},"id":{"type":"string","description":"Description: the id of the people","example":"0abbb86f-9836-11ee-a040-0242ac11000e"},"last_name":{"type":"string","description":"Description: the last name of the people","example":"HUILLCA"},"names":{"type":"string","description":"Description: the name of the people","example":"LUCY ANDREA"},"phone":{"type":"string","description":"Description: the phone of the people","example":"918547496"},"surname":{"type":"string","description":"Description: the surname of the people","example":"HANCCO"},"type_document":{"$ref":"#/components/schemas/domain.TypeDocument"}}},"domain.Role":{"required":["user_role"],"type":"object","properties":{"createdAt":{"type":"string","description":"Description: the date of created of the role","example":"2023-11-27 19:47:15"},"description":{"type":"string","description":"Description: the description of the role","example":"Gerencia del conglomerado"},"id":{"type":"string","description":"Description: the id of the role","example":"fcdbfacf-8305-11ee-89fd-0242ac110016"},"name":{"type":"string","description":"Description: the id of the role","example":"Jefe de Area Residual"},"role_enable":{"type":"boolean","description":"Description: enable of the role","example":true},"user_role":{"$ref":"#/components/schemas/domain.UserRole"}}},"domain.RoleUser":{"required":["id"],"type":"object","properties":{"created_at":{"type":"string","description":"Description: date of created","example":"2023-11-10 08:10:00"},"description":{"type":"string","description":"Description: user role description","example":"Gerencia general"},"enable":{"type":"boolean","description":"Description: user role status","example":true},"id":{"type":"string","description":"Description: role user id","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"name":{"type":"string","description":"Description:user role name","example":"Gerencia"}}},"domain.Store":{"required":["id","name"],"type":"object","properties":{"id":{"type":"string","description":"Description: the id of the store","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"name":{"type":"string","description":"Description: the name of the store","example":"Almacen Central"}}},"domain.StoreByUser":{"required":["id","merchant","name"],"type":"object","properties":{"id":{"type":"string","description":"Description: the id of the store","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"merchant":{"$ref":"#/components/schemas/domain.Merchant"},"name":{"type":"string","description":"Description: the name of the store","example":"Almacen Central"}}},"domain.TypeDocument":{"type":"object","properties":{"abbreviate_description":{"type":"string","description":"Description: abbreviated description of the type of document","example":"DNI"},"created_at":{"type":"string","description":"Description: the creation date of the document type","example":"2023-11-10 08:10:00"},"description":{"type":"string","description":"Description: description of the type of document","example":"DOCUMENTO NACIONAL DE IDENTIDAD"},"enable":{"type":"boolean","description":"Description: abbreviated document type status","example":true},"id":{"type":"string","description":"Description: id of document type","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"number":{"type":"string","description":"Description: document type number","example":"01"}}},"domain.UpdateUserBody":{"required":["type_id","username"],"type":"object","properties":{"person":{"$ref":"#/components/schemas/domain.Person"},"person_id":{"type":"string","description":"Description: the person id","example":"739bbbc9-7e93-11ee-89fd-0442ac210932"},"type_id":{"type":"string","description":"Description: the type of the user","example":"739bbbc9-7e93-11ee-89fd-0442ac210931"},"username":{"type":"string","description":"Description: the username of the user","example":"pepito.quispe@smartc.pe"}}},"domain.User":{"required":["id","user_type","username"],"type":"object","properties":{"created_at":{"type":"string","description":"Description: date of created","example":"2023-11-10 08:10:00"},"id":{"type":"string","description":"Description: user id","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"user_type":{"$ref":"#/components/schemas/domain.UserTypeByUser"},"username":{"type":"string","description":"Description: username of the user","example":"pepito.quispe@smartc.pe"}}},"domain.UserMe":{"required":["id","merchants","roles","stores","username"],"type":"object","properties":{"created_at":{"type":"string","description":"Description: date of created","example":"2023-11-10 08:10:00"},"id":{"type":"string","description":"Description: user id","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"merchants":{"type":"array","items":{"$ref":"#/components/schemas/domain.MerchantByUser"}},"person":{"$ref":"#/components/schemas/domain.PersonByUser"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/domain.RoleUser"}},"stores":{"type":"array","items":{"$ref":"#/components/schemas/domain.StoreByUser"}},"username":{"type":"string","description":"Description: username of the user","example":"pepito.quispe@smartc.pe"}}},"domain.UserMultiple":{"required":["id","role","user_type","username"],"type":"object","properties":{"created_at":{"type":"string","description":"Description: date of created","example":"2023-11-10 08:10:00"},"id":{"type":"string","description":"Description: user id","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"role":{"type":"array","items":{"$ref":"#/components/schemas/domain.Role"}},"user_type":{"$ref":"#/components/schemas/domain.UserTypeByUser"},"username":{"type":"string","description":"Description: username of the user","example":"pepito.quispe@smartc.pe"}}},"domain.UserRole":{"type":"object","properties":{"user_role_id":{"type":"string","description":"Description: the id of the use role","example":"b36f266d-8492-4f0e-8ecb-fef20e098970"}}},"domain.UserTypeByUser":{"required":["code","description","id"],"type":"object","properties":{"code":{"type":"string","description":"Description: the code of the user","example":"USER_EXTERNAL"},"description":{"type":"string","description":"Description: the description of the user","example":"Usuario externo"},"id":{"type":"string","description":"Description: the id of the user","example":"739bbbc9-7e93-11ee-89fd-0242ac113421"}}},"domain.ViewMenuUser":{"required":["description","icon","id","name","url"],"type":"object","properties":{"created_at":{"type":"string","description":"Description: the date of created the view menu user","example":"2023-11-10 08:10:00"},"description":{"type":"string","description":"Description: the description of the view menu user","example":"Vista de requerimientos"},"icon":{"type":"string","description":"Description: the icon in for the view menu user","example":"fa fa-chart"},"id":{"type":"string","description":"Description: the id of the view menu user","example":"739bbbc9-7e93-11ee-89fd-0242ac110000"},"name":{"type":"string","description":"Description: the name of the view menu user","example":"Requerimientos"},"url":{"type":"string","description":"Description: the url of the view menu user","example":"/logistics/requirements"}}},"errorDomain.LayerErr":{"type":"string","enum":["domain","infrastructure","interface","use_case"],"x-enum-varnames":["Domain","Infra","Interface","UseCase"]},"errorDomain.LevelErr":{"type":"string","enum":["info","warning","error","fatal"],"x-enum-varnames":["LevelInfo","LevelWarning","LevelError","LevelFatal"]},"errorDomain.SmartError":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"},"error":{"type":"object"},"function":{"type":"string"},"httpStatus":{"type":"integer"},"layer":{"$ref":"#/components/schemas/errorDomain.LayerErr"},"level":{"$ref":"#/components/schemas/errorDomain.LevelErr"},"messages":{"type":"array","items":{"type":"string"}},"raw":{"type":"string"}}},"httpResponse.BoolResponse":{"required":["data"],"type":"object","properties":{"data":{"type":"boolean"}}},"httpResponse.IdResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"string","example":"201"},"status":{"type":"integer"}}},"httpResponse.StatusResult":{"required":["status"],"type":"object","properties":{"status":{"type":"integer","example":200}}},"rest.GetMeByUser":{"required":["data","status"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/domain.UserMe"},"status":{"type":"integer"}}},"rest.LoginUserResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"string"},"status":{"type":"integer"}}},"rest.PermissionsResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/domain.Permissions"}},"status":{"type":"integer"}}},"rest.ResetPasswordUserResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"boolean"},"status":{"type":"integer"}}},"rest.deleteUsersResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"boolean"},"status":{"type":"integer"}}},"rest.menuByUserResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/domain.MenuModule"}},"status":{"type":"integer"}}},"rest.multipleUsersResult":{"required":["data","pagination","status"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/domain.UserMultiple"}},"pagination":{"$ref":"#/components/schemas/domain.PaginationResults"},"status":{"type":"integer"}}},"rest.userResult":{"required":["data","status"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/domain.User"},"status":{"type":"integer"}}}},"securitySchemes":{"BearerAuth":{"type":"apiKey","name":"Authorization","in":"header"}}}}