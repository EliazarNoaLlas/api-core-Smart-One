{"openapi":"3.0.1","info":{"contact":{}},"servers":[{"url":"/"}],"paths":{"/api/v1/core/roles/{roleId}/policies":{"get":{"tags":["Role Policy"],"summary":"get policies by role","description":"get policies by role","parameters":[{"name":"roleId","in":"path","description":"role id","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","description":"page","schema":{"type":"integer"}},{"name":"size_page","in":"query","description":"size page","schema":{"type":"integer"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.rolePoliciesResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]},"post":{"tags":["Role Policy"],"summary":"Create role policy","description":"Create role policy","parameters":[{"name":"roleId","in":"path","description":"role id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Create role policy body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domain.CreateRolePolicyBody"}}},"required":true},"responses":{"201":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.IdResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"createRolePolicyBody"}},"/api/v1/core/roles/{roleId}/policies/batch":{"post":{"tags":["Role Policy"],"summary":"Create multiple role policies","description":"Create multiple role policies","parameters":[{"name":"roleId","in":"path","description":"role id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Create multiple role policy body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.createMultipleRolePoliciesValidate"}}},"required":true},"responses":{"201":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.IdsResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"createRolePolicyBody"},"delete":{"tags":["Role Policy"],"summary":"Delete multiple role policies","description":"Delete multiple role policies","parameters":[{"name":"roleId","in":"path","description":"role id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.deleteMultipleRolePoliciesValidate"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}},"/api/v1/core/roles/{roleId}/policies/{rolePolicyId}":{"put":{"tags":["Role Policy"],"summary":"Update role policy","description":"Update role policy","parameters":[{"name":"roleId","in":"path","description":"role id","required":true,"schema":{"type":"string"}},{"name":"rolePolicyId","in":"path","description":"role policy id","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Update role policy body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/domain.UpdateRolePolicyBody"}}},"required":true},"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/httpResponse.StatusResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}],"x-codegen-request-body-name":"updateRolePolicyBody"},"delete":{"tags":["Role Policy"],"summary":"Delete role policy","description":"Delete role policy","parameters":[{"name":"roleId","in":"path","description":"role id","required":true,"schema":{"type":"string"}},{"name":"rolePolicyId","in":"path","description":"role policy id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/rest.deleteRolePoliciesResult"}}}},"500":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/errorDomain.SmartError"}}}}},"security":[{"BearerAuth":[]}]}}},"components":{"schemas":{"domain.CreateRolePolicyBody":{"required":["enable","policy_id"],"type":"object","properties":{"enable":{"type":"boolean","description":"Description: enable of the created role policies","example":true},"policy_id":{"type":"string","description":"Description: the policy_id of the created role policies","example":"739bbbc9-7e93-11ee-89fd-042hs5278420"}}},"domain.PaginationResults":{"required":["current_page","last_page","size_page","total"],"type":"object","properties":{"current_page":{"type":"integer"},"from":{"type":"integer"},"last_page":{"type":"integer"},"size_page":{"type":"integer"},"to":{"type":"integer"},"total":{"type":"integer"}}},"domain.PolicyByRolePolicy":{"required":["description","enable","id","level","name"],"type":"object","properties":{"created_at":{"type":"string","description":"Description: the created_at of the role policies","example":"2023-11-10 08:10:00"},"description":{"type":"string","description":"Description: the description of the role policies","example":"Politica para accesos a logistica requerimientos en todo el conglomerado"},"enable":{"type":"boolean","description":"Description: enable of the role policies","example":true},"id":{"type":"string","description":"Description: the id of the role policies","example":"739bbbc9-7e93-11ee-89fd-0242ac110016"},"level":{"type":"string","description":"Description: the level of the role policies","example":"system"},"name":{"type":"string","description":"Description: the name of the role policies","example":"LOGISTICA_REQUERIMIENTOS_CONGLOMERADO"}}},"domain.RolePolicy":{"required":["enable","id","policy"],"type":"object","properties":{"created_at":{"type":"string","description":"Description: the created_at of the role policies","example":"2023-11-10 08:10:00"},"enable":{"type":"boolean","description":"Description: enable of the role policies","example":true},"id":{"type":"string","description":"Description: the id of the role policies","example":"739bbbc9-7e93-11ee-89fd-0242ac110017"},"policy":{"$ref":"#/components/schemas/domain.PolicyByRolePolicy"}}},"domain.UpdateRolePolicyBody":{"required":["enable","policy_id"],"type":"object","properties":{"enable":{"type":"boolean","description":"Description: enable of the update role policies","example":true},"policy_id":{"type":"string","description":"Description: the policy_id of the update role policies","example":"739bbbc9-7e93-11ee-89fd-042hs5278420"}}},"errorDomain.LayerErr":{"type":"string","enum":["domain","infrastructure","interface","use_case"],"x-enum-varnames":["Domain","Infra","Interface","UseCase"]},"errorDomain.LevelErr":{"type":"string","enum":["info","warning","error","fatal"],"x-enum-varnames":["LevelInfo","LevelWarning","LevelError","LevelFatal"]},"errorDomain.SmartError":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"},"error":{"type":"object"},"function":{"type":"string"},"httpStatus":{"type":"integer"},"layer":{"$ref":"#/components/schemas/errorDomain.LayerErr"},"level":{"$ref":"#/components/schemas/errorDomain.LevelErr"},"messages":{"type":"array","items":{"type":"string"}},"raw":{"type":"string"}}},"httpResponse.IdResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"string","example":"201"},"status":{"type":"integer"}}},"httpResponse.IdsResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"array","example":["201"],"items":{"type":"string"}},"status":{"type":"integer"}}},"httpResponse.StatusResult":{"required":["status"],"type":"object","properties":{"status":{"type":"integer","example":200}}},"rest.createMultipleRolePoliciesValidate":{"type":"object","properties":{"rolePolicies":{"type":"array","items":{"$ref":"#/components/schemas/rest.createMultipleRolePolicyValidate"}}}},"rest.createMultipleRolePolicyValidate":{"required":["id","policy_id"],"type":"object","properties":{"enable":{"type":"boolean","example":true},"id":{"type":"string","example":"739bbbc9-7e93-11ee-89fd-0442ac210932"},"policy_id":{"type":"string","example":"739bbbc9-7e93-11ee-89fd-0442ac210931"}}},"rest.deleteMultipleRolePoliciesValidate":{"required":["role_policy_ids"],"type":"object","properties":{"role_policy_ids":{"type":"array","example":["739bbbc9-7e93-11ee-89fd-0442ac210931"],"items":{"type":"string"}}}},"rest.deleteRolePoliciesResult":{"required":["data","status"],"type":"object","properties":{"data":{"type":"boolean"},"status":{"type":"integer"}}},"rest.rolePoliciesResult":{"required":["data","pagination","status"],"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/domain.RolePolicy"}},"pagination":{"$ref":"#/components/schemas/domain.PaginationResults"},"status":{"type":"integer"}}}},"securitySchemes":{"BearerAuth":{"type":"apiKey","name":"Authorization","in":"header"}}}}